extends layout

block content
  h1= title
  p Welcome to #{title}




  script(src="https://d3js.org/d3.v4.min.js")
  script(src="/javascripts/dist/socket.io.js")
  script.
    var socket = io.connect('http://localhost:3000');
    socket.on('message', function(message) {
      console.log(message);
    });
    socket.on('JSON update', function(json) {
      json = JSON.parse(json);
      console.log(json);
      vis.selectAll("path").data(json.features).enter().append("path")
        .attr("d", path)
        .attr("class", "bus")
        .style("stroke", "green")
        .style("stroke-width", "3")
      });
    
  script(src='/javascripts/d3BusMap.js')
  //- script(type='text/javascript').
  //- var bayridgenumber = !{bayridgenumber}

